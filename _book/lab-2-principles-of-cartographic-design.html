<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title></title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lab-1-intro-to-spatial-data.html"/>
<link rel="next" href="lab-3-principles-of-spatial-scale-part-1.html"/>
<script src="book_assets/jquery-2.2.3/jquery.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Intro</a></li>
<li class="chapter" data-level="2" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html"><i class="fa fa-check"></i><b>2</b> “Lab 1. Intro to Spatial Data”</a><ul>
<li class="chapter" data-level="2.1" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#the-bolded-sentences-need-to-be-made-more-general-as-they-are-specific-to-a-particular-version-of-the-software"><i class="fa fa-check"></i><b>2.1</b> The bolded sentences need to be made more general, as they are specific to a particular version of the software</a></li>
<li class="chapter" data-level="2.2" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#overview"><i class="fa fa-check"></i><b>2.2</b> Overview</a></li>
<li class="chapter" data-level="2.3" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#research-question"><i class="fa fa-check"></i><b>2.3</b> Research Question</a></li>
<li class="chapter" data-level="2.4" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#environment-setup"><i class="fa fa-check"></i><b>2.4</b> Environment Setup</a><ul>
<li class="chapter" data-level="2.4.1" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#plugin"><i class="fa fa-check"></i><b>2.4.1</b> Plugin</a></li>
<li class="chapter" data-level="2.4.2" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#basemap"><i class="fa fa-check"></i><b>2.4.2</b> Basemap</a></li>
<li class="chapter" data-level="2.4.3" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#file-management"><i class="fa fa-check"></i><b>2.4.3</b> File Management</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#download-data"><i class="fa fa-check"></i><b>2.5</b> Download Data</a></li>
<li class="chapter" data-level="2.6" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#transform-data"><i class="fa fa-check"></i><b>2.6</b> Transform Data</a></li>
<li class="chapter" data-level="2.7" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#set-new-project-space"><i class="fa fa-check"></i><b>2.7</b> Set New Project Space</a></li>
<li class="chapter" data-level="2.8" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#style-layers"><i class="fa fa-check"></i><b>2.8</b> Style Layers</a></li>
<li class="chapter" data-level="2.9" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#calculate-and-style-buffers"><i class="fa fa-check"></i><b>2.9</b> Calculate and Style Buffers</a></li>
<li class="chapter" data-level="2.10" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#add-labeled-community-areas"><i class="fa fa-check"></i><b>2.10</b> Add labeled community areas</a></li>
<li class="chapter" data-level="2.11" data-path="lab-1-intro-to-spatial-data.html"><a href="lab-1-intro-to-spatial-data.html#compose-a-map"><i class="fa fa-check"></i><b>2.11</b> Compose a Map</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lab-2-principles-of-cartographic-design.html"><a href="lab-2-principles-of-cartographic-design.html"><i class="fa fa-check"></i><b>3</b> “Lab 2. Principles of Cartographic Design”</a><ul>
<li class="chapter" data-level="3.1" data-path="lab-2-principles-of-cartographic-design.html"><a href="lab-2-principles-of-cartographic-design.html#overview-1"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="lab-2-principles-of-cartographic-design.html"><a href="lab-2-principles-of-cartographic-design.html#research-question-1"><i class="fa fa-check"></i><b>3.2</b> Research Question</a></li>
<li class="chapter" data-level="3.3" data-path="lab-2-principles-of-cartographic-design.html"><a href="lab-2-principles-of-cartographic-design.html#environment-setup-1"><i class="fa fa-check"></i><b>3.3</b> Environment Setup</a></li>
<li class="chapter" data-level="3.4" data-path="lab-2-principles-of-cartographic-design.html"><a href="lab-2-principles-of-cartographic-design.html#download-data-1"><i class="fa fa-check"></i><b>3.4</b> Download Data</a></li>
<li class="chapter" data-level="3.5" data-path="lab-2-principles-of-cartographic-design.html"><a href="lab-2-principles-of-cartographic-design.html#inspect-data"><i class="fa fa-check"></i><b>3.5</b> Inspect Data</a></li>
<li class="chapter" data-level="3.6" data-path="lab-2-principles-of-cartographic-design.html"><a href="lab-2-principles-of-cartographic-design.html#open-in-geoda"><i class="fa fa-check"></i><b>3.6</b> Open in GeoDa</a><ul>
<li class="chapter" data-level="3.6.1" data-path="lab-2-principles-of-cartographic-design.html"><a href="lab-2-principles-of-cartographic-design.html#merge-data"><i class="fa fa-check"></i><b>3.6.1</b> Merge data</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="lab-2-principles-of-cartographic-design.html"><a href="lab-2-principles-of-cartographic-design.html#data-classification"><i class="fa fa-check"></i><b>3.7</b> Data Classification</a></li>
<li class="chapter" data-level="3.8" data-path="lab-2-principles-of-cartographic-design.html"><a href="lab-2-principles-of-cartographic-design.html#choropleth-mapping-in-geoda"><i class="fa fa-check"></i><b>3.8</b> Choropleth Mapping in GeoDa</a></li>
<li class="chapter" data-level="3.9" data-path="lab-2-principles-of-cartographic-design.html"><a href="lab-2-principles-of-cartographic-design.html#next-steps"><i class="fa fa-check"></i><b>3.9</b> Next Steps</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="lab-3-principles-of-spatial-scale-part-1.html"><a href="lab-3-principles-of-spatial-scale-part-1.html"><i class="fa fa-check"></i><b>4</b> “Lab 3. Principles of Spatial Scale, Part 1”</a><ul>
<li class="chapter" data-level="4.1" data-path="lab-3-principles-of-spatial-scale-part-1.html"><a href="lab-3-principles-of-spatial-scale-part-1.html#overview-2"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="lab-3-principles-of-spatial-scale-part-1.html"><a href="lab-3-principles-of-spatial-scale-part-1.html#research-question-2"><i class="fa fa-check"></i><b>4.2</b> Research Question</a></li>
<li class="chapter" data-level="4.3" data-path="lab-3-principles-of-spatial-scale-part-1.html"><a href="lab-3-principles-of-spatial-scale-part-1.html#environment-setup-2"><i class="fa fa-check"></i><b>4.3</b> Environment Setup</a></li>
<li class="chapter" data-level="4.4" data-path="lab-3-principles-of-spatial-scale-part-1.html"><a href="lab-3-principles-of-spatial-scale-part-1.html#download-data-2"><i class="fa fa-check"></i><b>4.4</b> Download Data</a><ul>
<li class="chapter" data-level="4.4.1" data-path="lab-3-principles-of-spatial-scale-part-1.html"><a href="lab-3-principles-of-spatial-scale-part-1.html#coal-mining-job-data"><i class="fa fa-check"></i><b>4.4.1</b> Coal Mining Job Data</a></li>
<li class="chapter" data-level="4.4.2" data-path="lab-3-principles-of-spatial-scale-part-1.html"><a href="lab-3-principles-of-spatial-scale-part-1.html#county-boundary-file-data"><i class="fa fa-check"></i><b>4.4.2</b> County Boundary File Data</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="lab-3-principles-of-spatial-scale-part-1.html"><a href="lab-3-principles-of-spatial-scale-part-1.html#merge-data-1"><i class="fa fa-check"></i><b>4.5</b> Merge Data</a></li>
<li class="chapter" data-level="4.6" data-path="lab-3-principles-of-spatial-scale-part-1.html"><a href="lab-3-principles-of-spatial-scale-part-1.html#explore-data"><i class="fa fa-check"></i><b>4.6</b> Explore Data</a></li>
<li class="chapter" data-level="4.7" data-path="lab-3-principles-of-spatial-scale-part-1.html"><a href="lab-3-principles-of-spatial-scale-part-1.html#add-another-time-period"><i class="fa fa-check"></i><b>4.7</b> Add Another Time Period</a></li>
<li class="chapter" data-level="4.8" data-path="lab-3-principles-of-spatial-scale-part-1.html"><a href="lab-3-principles-of-spatial-scale-part-1.html#installations-for-next-week"><i class="fa fa-check"></i><b>4.8</b> Installations for Next Week</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lab-2.-principles-of-cartographic-design" class="section level1">
<h1><span class="header-section-number">3</span> “Lab 2. Principles of Cartographic Design”</h1>
<div id="overview-1" class="section level2">
<h2><span class="header-section-number">3.1</span> Overview</h2>
<p>In this lab, you’ll gain familiarity with the GeoDa software.</p>
<p>Objectives for this practical:</p>
<ul>
<li>Wrangle a data file to prepare for merge</li>
<li>Join non-spatial data to spatial data</li>
<li>Define data classification and intervals</li>
<li>Crate Choropleth maps in GeoDa</li>
</ul>
</div>
<div id="research-question-1" class="section level2">
<h2><span class="header-section-number">3.2</span> Research Question</h2>
</div>
<div id="environment-setup-1" class="section level2">
<h2><span class="header-section-number">3.3</span> Environment Setup</h2>
<p>We will be working with GeoDa for the practical. Ensure you’ve properly downloaded the software and are able to successfully open.</p>
<p>Documentation of any opensource software is always a must when first using it. Find the documentation for “Basic mapping” on the GeoDa site to get more details, screenshots, and overview of techniques we will be doing here.</p>
</div>
<div id="download-data-1" class="section level2">
<h2><span class="header-section-number">3.4</span> Download Data</h2>
<p>First, download the data required in the lab.</p>
<ul>
<li>Opioid-related overdose cases (CSV Format)</li>
<li>Community area boundaries (Shapefile Format)</li>
</ul>
<p>Opioid cases can be downloaded from the Chicago Health Atlas (<a href="https://www.chicagohealthatlas.org/indicators/opioid-related-overdose-deaths" class="uri">https://www.chicagohealthatlas.org/indicators/opioid-related-overdose-deaths</a>). Community area boundaries can be found at the City of Chicago Data Portal (<a href="https://data.cityofchicago.org/Facilities-Geographic-Boundaries/Boundaries-Community-Areas-current-/cauq-8yn6" class="uri">https://data.cityofchicago.org/Facilities-Geographic-Boundaries/Boundaries-Community-Areas-current-/cauq-8yn6</a>). Unzip and add all the data to a new folder saved for your classwork.</p>
</div>
<div id="inspect-data" class="section level2">
<h2><span class="header-section-number">3.5</span> Inspect Data</h2>
<p>Now, open and inspect the CSV files in Excel (or software of your choice), and identify the geography columns. We see that this data is in “long” format, meaning every row has a value at a specific geography (citywide or community area) and year. We need to update the data so there are only 77 rows, one corresponding to each community area. To do this, select and copy all rows with Community Area geographies in 2016, and paste in a new tab. There should only be 77 rows. Save this new data as CSV.</p>
</div>
<div id="open-in-geoda" class="section level2">
<h2><span class="header-section-number">3.6</span> Open in GeoDa</h2>
<p>Next, we will open the newly created Community Area boundaries data in GeoDa.</p>
<ul>
<li>Open GeoDa</li>
<li><strong>In the folder browse button, select ESRI Shapefile, and locate and open your Community Area boundary file. Alternatively, you can drag and drop your file.</strong></li>
<li><strong>In the new Map window, click the Basemap icon (second from right) to add a Basemap.</strong></li>
<li><strong>To open the corresponding attributes, click on the Table icon in the main toolbar (to the left of the W icon)</strong></li>
</ul>
<div id="merge-data" class="section level3">
<h3><span class="header-section-number">3.6.1</span> Merge data</h3>
<p>Now we merge the opioid data to the community areas data. In GeoDa, this is very straightforward: * <strong>Under Table in GeoDa’s tabs, select Merge Table</strong> * Navigate to your dataset * <strong>Merge by key values. Select the community area number (our key) you will join on. In the Community Area shapefile, that was “commarea.” What is it in the other dataset? If you’re not sure, close the Merge window, check, and then return.</strong> * Sometimes, field names may be too long for import. This is a function of rule names established for shapefiles, and several GIS software will support and uphold that. Rename field names to shorter versions if necessary. * File merged successfully!</p>
</div>
</div>
<div id="data-classification" class="section level2">
<h2><span class="header-section-number">3.7</span> Data Classification</h2>
<p>Choropleth maps use data classification techniques to segment the data into different intervals. Each interval then gets mapped with a different color. How you classify the data impacts the intervals, which then impacts your choropleth and interpretation. Before we can start choropleth mapping, we need to better understand how this works. There are different data classification techniques, with some details here directly from GeoDa documentation by Anselin (2018):</p>
<p><em>Quantiles</em>: Data is grouped into equal bins. A quantile map of 4 bins will group the data into four groups of equal numbers, based on where these breaks are in the data. Sometimes there is data with several fields having the same number, or ties. This can be a problem in quantile maps. GeoDa will move observations to new bins (commonly the next bin up) with there are ties.</p>
<p>Any time there are ties in the ranking of observations that align with the values for the breakpoints, the classification in a quantile map will be problematic and result in categories with an unequal number of observations (Anselin 2018).</p>
<p><em>Natural Breaks</em>: A natural breaks map uses a nonlinear algorithm to group observations such that the within-group variation is maximized, following the work of Fisher (1958) and Jenks (1977). This is an essentially a clustering algorithm in one dimension to determine the break points that yield groups with the largest internal similarity (Anselin 2018).</p>
<p><em>Equal Intervals</em>: An equal intervals map uses the same principle as a histogram to organize the observations into categories that divide the range of the variable into equal interval bins. This contrasts with the quantile map, where the number of observations in each bin is equal, but the range for each bin is not. For the equal interval classification, the value range between the lower and upper bound in each bin is constant across bins, but the number of observations in each bin is typically not equal.</p>
</div>
<div id="choropleth-mapping-in-geoda" class="section level2">
<h2><span class="header-section-number">3.8</span> Choropleth Mapping in GeoDa</h2>
<p>We are ready for choropleth mapping! First, construct a histogram of the data so we can see how the data is distributed in a non-spatial way. <strong>Click the “histogram icon” in the main toolbar. Select “Count” as your field;</strong> this is the count of all opioid-related overdose deaths in 2016. Inspect the data, selecting intervals of interest to see where that data plots in your main map.</p>
<p>Under the Map tab, select and try the following: * Quantile Map with 4 bins * Quantile Map with 6 bins * Equal Interval Map with 4 bins * Natural Breaks Map with 4 bins</p>
<p>For each, select the last interval in the legend to see corresponding data in the histogram. In the attribute table, data selected will show up in yellow. <strong>You can right-click in the attribute table and “move up selected values to top” as well.</strong></p>
<p>Next, try some additional bins, specifically the Standard Deviation Map and a Box Map (with 1.5 hinge). Find the corresponding section in GeoDa documentation that explains these data classification techniques.</p>
<p>To the right of the Histogram icon, click the Box Plot icon. Use a 1.5-hinge for the Count field. Inspect for any outliers. Drag-select regions of the box plot and view how those areas are highlighted in the data table and map views.</p>
</div>
<div id="next-steps" class="section level2">
<h2><span class="header-section-number">3.9</span> Next Steps</h2>
<p>With each choropleth map, a new insight can be found. What is similar across all maps? What is changing, and why? If a spatial pattern emerges in a consistent way, it is more likely to be a true phenomenon, in contrast to a data artifact or poor classification choice.</p>
<p>Determine the best choropleth map to present. Update styles by right-clicking on the icons in the legend to change the colors if required. For thematic maps, having more than 5 bins is generally not recommended, though each classification strategy is unique to the data at hand. Go to Color Brewer (<a href="http://colorbrewer2.org/#type" class="uri">http://colorbrewer2.org/#type</a>= sequential&amp;scheme=BuGn&amp;n=3) to explore and view different color strategies. Return to GeoDa to update, using the HEX code for new colors if importing a specific color scheme. Finally, update with your favorite basemap for this data. Update transparency if needed.</p>
<p>Consider additional data that may make this more meaningful. Could you add additional columns for previous years, following what was available in the original dataset? What about additional socioeconomic or built environment indicators?</p>
<p>Search for an additional column to join, merge, and generate a new choropleth map for that variable. What was the added value?</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lab-1-intro-to-spatial-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lab-3-principles-of-spatial-scale-part-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="book_assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
